{"version":3,"file":"noted.js","sources":["../node_modules/flyd/node_modules/ramda/src/internal/_arity.js","../node_modules/flyd/node_modules/ramda/src/internal/_isPlaceholder.js","../node_modules/flyd/node_modules/ramda/src/internal/_curry1.js","../node_modules/flyd/node_modules/ramda/src/internal/_curry2.js","../node_modules/flyd/node_modules/ramda/src/internal/_curryN.js","../node_modules/flyd/node_modules/ramda/src/curryN.js","../node_modules/flyd/lib/index.js","../src/js/player.js","../src/js/controls.js","../node_modules/flyd/module/filter/index.js","../src/js/file.js","../src/js/logger.js","../src/js/noted.js"],"sourcesContent":["function _arity(n, fn) {\n  /* eslint-disable no-unused-vars */\n  switch (n) {\n    case 0:\n      return function () {\n        return fn.apply(this, arguments);\n      };\n    case 1:\n      return function (a0) {\n        return fn.apply(this, arguments);\n      };\n    case 2:\n      return function (a0, a1) {\n        return fn.apply(this, arguments);\n      };\n    case 3:\n      return function (a0, a1, a2) {\n        return fn.apply(this, arguments);\n      };\n    case 4:\n      return function (a0, a1, a2, a3) {\n        return fn.apply(this, arguments);\n      };\n    case 5:\n      return function (a0, a1, a2, a3, a4) {\n        return fn.apply(this, arguments);\n      };\n    case 6:\n      return function (a0, a1, a2, a3, a4, a5) {\n        return fn.apply(this, arguments);\n      };\n    case 7:\n      return function (a0, a1, a2, a3, a4, a5, a6) {\n        return fn.apply(this, arguments);\n      };\n    case 8:\n      return function (a0, a1, a2, a3, a4, a5, a6, a7) {\n        return fn.apply(this, arguments);\n      };\n    case 9:\n      return function (a0, a1, a2, a3, a4, a5, a6, a7, a8) {\n        return fn.apply(this, arguments);\n      };\n    case 10:\n      return function (a0, a1, a2, a3, a4, a5, a6, a7, a8, a9) {\n        return fn.apply(this, arguments);\n      };\n    default:\n      throw new Error('First argument to _arity must be a non-negative integer no greater than ten');\n  }\n}\nmodule.exports = _arity;","function _isPlaceholder(a) {\n       return a != null && typeof a === 'object' && a['@@functional/placeholder'] === true;\n}\nmodule.exports = _isPlaceholder;","var _isPlaceholder = /*#__PURE__*/require('./_isPlaceholder');\n\n/**\n * Optimized internal one-arity curry function.\n *\n * @private\n * @category Function\n * @param {Function} fn The function to curry.\n * @return {Function} The curried function.\n */\n\n\nfunction _curry1(fn) {\n  return function f1(a) {\n    if (arguments.length === 0 || _isPlaceholder(a)) {\n      return f1;\n    } else {\n      return fn.apply(this, arguments);\n    }\n  };\n}\nmodule.exports = _curry1;","var _curry1 = /*#__PURE__*/require('./_curry1');\n\nvar _isPlaceholder = /*#__PURE__*/require('./_isPlaceholder');\n\n/**\n * Optimized internal two-arity curry function.\n *\n * @private\n * @category Function\n * @param {Function} fn The function to curry.\n * @return {Function} The curried function.\n */\n\n\nfunction _curry2(fn) {\n  return function f2(a, b) {\n    switch (arguments.length) {\n      case 0:\n        return f2;\n      case 1:\n        return _isPlaceholder(a) ? f2 : _curry1(function (_b) {\n          return fn(a, _b);\n        });\n      default:\n        return _isPlaceholder(a) && _isPlaceholder(b) ? f2 : _isPlaceholder(a) ? _curry1(function (_a) {\n          return fn(_a, b);\n        }) : _isPlaceholder(b) ? _curry1(function (_b) {\n          return fn(a, _b);\n        }) : fn(a, b);\n    }\n  };\n}\nmodule.exports = _curry2;","var _arity = /*#__PURE__*/require('./_arity');\n\nvar _isPlaceholder = /*#__PURE__*/require('./_isPlaceholder');\n\n/**\n * Internal curryN function.\n *\n * @private\n * @category Function\n * @param {Number} length The arity of the curried function.\n * @param {Array} received An array of arguments received thus far.\n * @param {Function} fn The function to curry.\n * @return {Function} The curried function.\n */\n\n\nfunction _curryN(length, received, fn) {\n  return function () {\n    var combined = [];\n    var argsIdx = 0;\n    var left = length;\n    var combinedIdx = 0;\n    while (combinedIdx < received.length || argsIdx < arguments.length) {\n      var result;\n      if (combinedIdx < received.length && (!_isPlaceholder(received[combinedIdx]) || argsIdx >= arguments.length)) {\n        result = received[combinedIdx];\n      } else {\n        result = arguments[argsIdx];\n        argsIdx += 1;\n      }\n      combined[combinedIdx] = result;\n      if (!_isPlaceholder(result)) {\n        left -= 1;\n      }\n      combinedIdx += 1;\n    }\n    return left <= 0 ? fn.apply(this, combined) : _arity(left, _curryN(length, combined, fn));\n  };\n}\nmodule.exports = _curryN;","var _arity = /*#__PURE__*/require('./internal/_arity');\n\nvar _curry1 = /*#__PURE__*/require('./internal/_curry1');\n\nvar _curry2 = /*#__PURE__*/require('./internal/_curry2');\n\nvar _curryN = /*#__PURE__*/require('./internal/_curryN');\n\n/**\n * Returns a curried equivalent of the provided function, with the specified\n * arity. The curried function has two unusual capabilities. First, its\n * arguments needn't be provided one at a time. If `g` is `R.curryN(3, f)`, the\n * following are equivalent:\n *\n *   - `g(1)(2)(3)`\n *   - `g(1)(2, 3)`\n *   - `g(1, 2)(3)`\n *   - `g(1, 2, 3)`\n *\n * Secondly, the special placeholder value [`R.__`](#__) may be used to specify\n * \"gaps\", allowing partial application of any combination of arguments,\n * regardless of their positions. If `g` is as above and `_` is [`R.__`](#__),\n * the following are equivalent:\n *\n *   - `g(1, 2, 3)`\n *   - `g(_, 2, 3)(1)`\n *   - `g(_, _, 3)(1)(2)`\n *   - `g(_, _, 3)(1, 2)`\n *   - `g(_, 2)(1)(3)`\n *   - `g(_, 2)(1, 3)`\n *   - `g(_, 2)(_, 3)(1)`\n *\n * @func\n * @memberOf R\n * @since v0.5.0\n * @category Function\n * @sig Number -> (* -> a) -> (* -> a)\n * @param {Number} length The arity for the returned function.\n * @param {Function} fn The function to curry.\n * @return {Function} A new, curried function.\n * @see R.curry\n * @example\n *\n *      var sumArgs = (...args) => R.sum(args);\n *\n *      var curriedAddFourNumbers = R.curryN(4, sumArgs);\n *      var f = curriedAddFourNumbers(1, 2);\n *      var g = f(3);\n *      g(4); //=> 10\n */\n\n\nvar curryN = /*#__PURE__*/_curry2(function curryN(length, fn) {\n  if (length === 1) {\n    return _curry1(fn);\n  }\n  return _arity(length, _curryN(length, [], fn));\n});\nmodule.exports = curryN;","'use strict';\n\nvar curryN = require('ramda/src/curryN');\n\n// Utility\nfunction isFunction(obj) {\n  return !!(obj && obj.constructor && obj.call && obj.apply);\n}\nfunction trueFn() { return true; }\n\n// Globals\nvar toUpdate = [];\nvar inStream;\nvar order = [];\nvar orderNextIdx = -1;\nvar flushingUpdateQueue = false;\nvar flushingStreamValue = false;\n\nfunction flushing() {\n  return flushingUpdateQueue || flushingStreamValue;\n}\n\n\n/** @namespace */\nvar flyd = {}\n\n// /////////////////////////// API ///////////////////////////////// //\n\n/**\n * Creates a new stream\n *\n * __Signature__: `a -> Stream a`\n *\n * @name flyd.stream\n * @param {*} initialValue - (Optional) the initial value of the stream\n * @return {stream} the stream\n *\n * @example\n * var n = flyd.stream(1); // Stream with initial value `1`\n * var s = flyd.stream(); // Stream with no initial value\n */\nflyd.stream = function(initialValue) {\n  var endStream = createDependentStream([], trueFn);\n  var s = createStream();\n  s.end = endStream;\n  s.fnArgs = [];\n  endStream.listeners.push(s);\n  if (arguments.length > 0) s(initialValue);\n  return s;\n}\n// fantasy-land Applicative\nflyd.stream['fantasy-land/of'] = flyd.stream.of = flyd.stream;\n\n\n/**\n * Create a new dependent stream\n *\n * __Signature__: `(...Stream * -> Stream b -> b) -> [Stream *] -> Stream b`\n *\n * @name flyd.combine\n * @param {Function} fn - the function used to combine the streams\n * @param {Array<stream>} dependencies - the streams that this one depends on\n * @return {stream} the dependent stream\n *\n * @example\n * var n1 = flyd.stream(0);\n * var n2 = flyd.stream(0);\n * var max = flyd.combine(function(n1, n2, self, changed) {\n *   return n1() > n2() ? n1() : n2();\n * }, [n1, n2]);\n */\nflyd.combine = curryN(2, combine);\nfunction combine(fn, streams) {\n  var i, s, deps, depEndStreams;\n  var endStream = createDependentStream([], trueFn);\n  deps = []; depEndStreams = [];\n  for (i = 0; i < streams.length; ++i) {\n    if (streams[i] !== undefined) {\n      deps.push(streams[i]);\n      if (streams[i].end !== undefined) depEndStreams.push(streams[i].end);\n    }\n  }\n  s = createDependentStream(deps, fn);\n  s.depsChanged = [];\n  s.fnArgs = s.deps.concat([s, s.depsChanged]);\n  s.end = endStream;\n  endStream.listeners.push(s);\n  addListeners(depEndStreams, endStream);\n  endStream.deps = depEndStreams;\n  updateStream(s);\n  return s;\n}\n\n/**\n * Returns `true` if the supplied argument is a Flyd stream and `false` otherwise.\n *\n * __Signature__: `* -> Boolean`\n *\n * @name flyd.isStream\n * @param {*} value - the value to test\n * @return {Boolean} `true` if is a Flyd streamn, `false` otherwise\n *\n * @example\n * var s = flyd.stream(1);\n * var n = 1;\n * flyd.isStream(s); //=> true\n * flyd.isStream(n); //=> false\n */\nflyd.isStream = function(stream) {\n  return isFunction(stream) && 'hasVal' in stream;\n}\n\n/**\n * Invokes the body (the function to calculate the value) of a dependent stream\n *\n * By default the body of a dependent stream is only called when all the streams\n * upon which it depends has a value. `immediate` can circumvent this behaviour.\n * It immediately invokes the body of a dependent stream.\n *\n * __Signature__: `Stream a -> Stream a`\n *\n * @name flyd.immediate\n * @param {stream} stream - the dependent stream\n * @return {stream} the same stream\n *\n * @example\n * var s = flyd.stream();\n * var hasItems = flyd.immediate(flyd.combine(function(s) {\n *   return s() !== undefined && s().length > 0;\n * }, [s]);\n * console.log(hasItems()); // logs `false`. Had `immediate` not been\n *                          // used `hasItems()` would've returned `undefined`\n * s([1]);\n * console.log(hasItems()); // logs `true`.\n * s([]);\n * console.log(hasItems()); // logs `false`.\n */\nflyd.immediate = function(s) {\n  if (s.depsMet === false) {\n    s.depsMet = true;\n    updateStream(s);\n  }\n  return s;\n}\n\n/**\n * Changes which `endsStream` should trigger the ending of `s`.\n *\n * __Signature__: `Stream a -> Stream b -> Stream b`\n *\n * @name flyd.endsOn\n * @param {stream} endStream - the stream to trigger the ending\n * @param {stream} stream - the stream to be ended by the endStream\n * @param {stream} the stream modified to be ended by endStream\n *\n * @example\n * var n = flyd.stream(1);\n * var killer = flyd.stream();\n * // `double` ends when `n` ends or when `killer` emits any value\n * var double = flyd.endsOn(flyd.merge(n.end, killer), flyd.combine(function(n) {\n *   return 2 * n();\n * }, [n]);\n*/\nflyd.endsOn = function(endS, s) {\n  detachDeps(s.end);\n  endS.listeners.push(s.end);\n  s.end.deps.push(endS);\n  return s;\n}\n\n/**\n * Map a stream\n *\n * Returns a new stream consisting of every value from `s` passed through\n * `fn`. I.e. `map` creates a new stream that listens to `s` and\n * applies `fn` to every new value.\n * __Signature__: `(a -> result) -> Stream a -> Stream result`\n *\n * @name flyd.map\n * @param {Function} fn - the function that produces the elements of the new stream\n * @param {stream} stream - the stream to map\n * @return {stream} a new stream with the mapped values\n *\n * @example\n * var numbers = flyd.stream(0);\n * var squaredNumbers = flyd.map(function(n) { return n*n; }, numbers);\n */\n// Library functions use self callback to accept (null, undefined) update triggers.\nfunction map(f, s) {\n  return combine(function(s, self) { self(f(s.val)); }, [s]);\n}\nflyd.map = curryN(2, map)\n\n/**\n * Chain a stream\n *\n * also known as flatMap\n *\n * Where `fn` returns a stream this function will flatten the resulting streams.\n * Every time `fn` is called the context of the returned stream will \"switch\" to that stream.\n *\n * __Signature__: `(a -> Stream b) -> Stream a -> Stream b`\n *\n * @name flyd.chain\n * @param {Function} fn - the function that produces the streams to be flattened\n * @param {stream} stream - the stream to map\n * @return {stream} a new stream with the mapped values\n *\n * @example\n * var filter = flyd.stream('who');\n * var items = flyd.chain(function(filter){\n *   return flyd.stream(findUsers(filter));\n * }, filter);\n */\nflyd.chain = curryN(2, chain);\n\n/**\n * Apply a stream\n *\n * Applies the value in `s2` to the function in `s1`.\n *\n * __Signature__: `Stream (a -> b) -> Stream a -> Stream b`\n *\n * @name flyd.ap\n * @param {stream} s1 - The value to be applied\n * @param {stream} s2 - The function expecting the value\n * @return {stream} a new stream with the mapped values\n *\n * @example\n * var add = stream(a => b => a + b)\n * var n1 = stream(1)\n * var n2 = stream(2)\n *\n * var added = flyd.ap(n2, flyd.ap(n1, add)) // stream(3)\n * // can also be written using pipe\n * var added_pipe = add\n *   .pipe(ap(n1))\n *   .pipe(ap(n2));\n * added_pipe() // 3\n */\nflyd.ap = curryN(2, ap);\n\n/**\n * Listen to stream events\n *\n * Similar to `map` except that the returned stream is empty. Use `on` for doing\n * side effects in reaction to stream changes. Use the returned stream only if you\n * need to manually end it.\n *\n * __Signature__: `(a -> result) -> Stream a -> Stream undefined`\n *\n * @name flyd.on\n * @param {Function} cb - the callback\n * @param {stream} stream - the stream\n * @return {stream} an empty stream (can be ended)\n */\nflyd.on = curryN(2, function(f, s) {\n  return combine(function(s) { f(s.val); }, [s]);\n})\n\n/**\n * Creates a new stream with the results of calling the function on every incoming\n * stream with and accumulator and the incoming value.\n *\n * __Signature__: `(a -> b -> a) -> a -> Stream b -> Stream a`\n *\n * @name flyd.scan\n * @param {Function} fn - the function to call\n * @param {*} val - the initial value of the accumulator\n * @param {stream} stream - the stream source\n * @return {stream} the new stream\n *\n * @example\n * var numbers = flyd.stream();\n * var sum = flyd.scan(function(sum, n) { return sum+n; }, 0, numbers);\n * numbers(2)(3)(5);\n * sum(); // 10\n */\nflyd.scan = curryN(3, function(f, acc, s) {\n  var ns = combine(function(s, self) {\n    self(acc = f(acc, s.val));\n  }, [s]);\n  if (!ns.hasVal) ns(acc);\n  return ns;\n});\n\n/**\n * Creates a new stream down which all values from both `stream1` and `stream2`\n * will be sent.\n *\n * __Signature__: `Stream a -> Stream a -> Stream a`\n *\n * @name flyd.merge\n * @param {stream} source1 - one stream to be merged\n * @param {stream} source2 - the other stream to be merged\n * @return {stream} a stream with the values from both sources\n *\n * @example\n * var btn1Clicks = flyd.stream();\n * button1Elm.addEventListener(btn1Clicks);\n * var btn2Clicks = flyd.stream();\n * button2Elm.addEventListener(btn2Clicks);\n * var allClicks = flyd.merge(btn1Clicks, btn2Clicks);\n */\nflyd.merge = curryN(2, function(s1, s2) {\n  var s = flyd.immediate(combine(function(s1, s2, self, changed) {\n    if (changed[0]) {\n      self(changed[0]());\n    } else if (s1.hasVal) {\n      self(s1.val);\n    } else if (s2.hasVal) {\n      self(s2.val);\n    }\n  }, [s1, s2]));\n  flyd.endsOn(combine(function() {\n    return true;\n  }, [s1.end, s2.end]), s);\n  return s;\n});\n\n/**\n * Creates a new stream resulting from applying `transducer` to `stream`.\n *\n * __Signature__: `Transducer -> Stream a -> Stream b`\n *\n * @name flyd.transduce\n * @param {Transducer} xform - the transducer transformation\n * @param {stream} source - the stream source\n * @return {stream} the new stream\n *\n * @example\n * var t = require('transducers.js');\n *\n * var results = [];\n * var s1 = flyd.stream();\n * var tx = t.compose(t.map(function(x) { return x * 2; }), t.dedupe());\n * var s2 = flyd.transduce(tx, s1);\n * flyd.combine(function(s2) { results.push(s2()); }, [s2]);\n * s1(1)(1)(2)(3)(3)(3)(4);\n * results; // => [2, 4, 6, 8]\n */\nflyd.transduce = curryN(2, function(xform, source) {\n  xform = xform(new StreamTransformer());\n  return combine(function(source, self) {\n    var res = xform['@@transducer/step'](undefined, source.val);\n    if (res && res['@@transducer/reduced'] === true) {\n      self.end(true);\n      return res['@@transducer/value'];\n    } else {\n      return res;\n    }\n  }, [source]);\n});\n\n/**\n * Returns `fn` curried to `n`. Use this function to curry functions exposed by\n * modules for Flyd.\n *\n * @name flyd.curryN\n * @function\n * @param {Integer} arity - the function arity\n * @param {Function} fn - the function to curry\n * @return {Function} the curried function\n *\n * @example\n * function add(x, y) { return x + y; };\n * var a = flyd.curryN(2, add);\n * a(2)(4) // => 6\n */\nflyd.curryN = curryN\n\n/**\n * Returns a new stream identical to the original except every\n * value will be passed through `f`.\n *\n * _Note:_ This function is included in order to support the fantasy land\n * specification.\n *\n * __Signature__: Called bound to `Stream a`: `(a -> b) -> Stream b`\n *\n * @name stream.map\n * @param {Function} function - the function to apply\n * @return {stream} a new stream with the values mapped\n *\n * @example\n * var numbers = flyd.stream(0);\n * var squaredNumbers = numbers.map(function(n) { return n*n; });\n */\nfunction boundMap(f) { return map(f, this); }\n\n/**\n * Returns the result of applying function `fn` to this stream\n *\n * __Signature__: Called bound to `Stream a`: `(a -> Stream b) -> Stream b`\n *\n * @name stream.pipe\n * @param {Function} fn - the function to apply\n * @return {stream} A new stream\n *\n * @example\n * var numbers = flyd.stream(0);\n * var squaredNumbers = numbers.pipe(flyd.map(function(n){ return n*n; }));\n */\nfunction operator_pipe(f) { return f(this) }\n\nfunction boundChain(f) {\n  return chain(f, this);\n}\n\nfunction chain(f, s) {\n  // Internal state to end flat map stream\n  var flatEnd = flyd.stream(1);\n  var internalEnded = flyd.on(function() {\n    var alive = flatEnd() - 1;\n    flatEnd(alive);\n    if (alive <= 0) {\n      flatEnd.end(true);\n    }\n  });\n\n  internalEnded(s.end);\n  var last = flyd.stream();\n  var flatStream = flyd.combine(function(s, own) {\n    last.end(true)\n    // Our fn stream makes streams\n    var newS = f(s());\n    flatEnd(flatEnd() + 1);\n    internalEnded(newS.end);\n\n    // Update self on call -- newS is never handed out so deps don't matter\n    last = map(own, newS);\n  }, [s]);\n\n  flyd.endsOn(flatEnd.end, flatStream);\n\n  return flatStream;\n}\n\nflyd.fromPromise = function fromPromise(p) {\n  var s = flyd.stream();\n  p.then(function(val) {\n    s(val);\n    s.end(true);\n  });\n  return s;\n}\n\nflyd.flattenPromise = function flattenPromise(s) {\n  return combine(function(s, self) {\n    s().then(self);\n  }, [s])\n}\n\n\n/**\n * Returns a new stream which is the result of applying the\n * functions from `this` stream to the values in `stream` parameter.\n *\n * `this` stream must be a stream of functions.\n *\n * _Note:_ This function is included in order to support the fantasy land\n * specification.\n *\n * __Signature__: Called bound to `Stream (a -> b)`: `a -> Stream b`\n *\n * @name stream.ap\n * @param {stream} stream - the values stream\n * @return {stream} a new stream with the functions applied to values\n *\n * @example\n * var add = flyd.curryN(2, function(x, y) { return x + y; });\n * var numbers1 = flyd.stream();\n * var numbers2 = flyd.stream();\n * var addToNumbers1 = flyd.map(add, numbers1);\n * var added = addToNumbers1.ap(numbers2);\n */\nfunction ap(s2, s1) {\n  return combine(function(s1, s2, self) { self(s1.val(s2.val)); }, [s1, s2]);\n}\n\nfunction boundAp(s2) {\n  return ap(s2, this);\n}\n\n/**\n * @private\n */\nfunction fantasy_land_ap(s1) {\n  return ap(this, s1);\n}\n\n/**\n * Get a human readable view of a stream\n * @name stream.toString\n * @return {String} the stream string representation\n */\nfunction streamToString() {\n  return 'stream(' + this.val + ')';\n}\n\n/**\n * @name stream.end\n * @memberof stream\n * A stream that emits `true` when the stream ends. If `true` is pushed down the\n * stream the parent stream ends.\n */\n\n/**\n * @name stream.of\n * @function\n * @memberof stream\n * Returns a new stream with `value` as its initial value. It is identical to\n * calling `flyd.stream` with one argument.\n *\n * __Signature__: Called bound to `Stream (a)`: `b -> Stream b`\n *\n * @param {*} value - the initial value\n * @return {stream} the new stream\n *\n * @example\n * var n = flyd.stream(1);\n * var m = n.of(1);\n */\n\n// /////////////////////////// PRIVATE ///////////////////////////////// //\n/**\n * @private\n * Create a stream with no dependencies and no value\n * @return {Function} a flyd stream\n */\nfunction createStream() {\n  function s(n) {\n    if (arguments.length === 0) return s.val\n    updateStreamValue(n, s)\n    return s\n  }\n  s.hasVal = false;\n  s.val = undefined;\n  s.updaters = [];\n  s.listeners = [];\n  s.queued = false;\n  s.end = undefined;\n\n  // fantasy-land compatibility\n  s.ap = boundAp;\n  s['fantasy-land/map'] = s.map = boundMap;\n  s['fantasy-land/ap'] = fantasy_land_ap;\n  s['fantasy-land/of'] = s.of = flyd.stream;\n  s['fantasy-land/chain'] = s.chain = boundChain;\n\n  s.pipe = operator_pipe;\n\n  // According to the fantasy-land Applicative specification\n  // Given a value f, one can access its type representative via the constructor property:\n  // `f.constructor.of`\n  s.constructor = flyd.stream;\n\n  s.toJSON = function() {\n    return s.val;\n  }\n  s.toString = streamToString;\n  return s;\n}\n\n/**\n * @private\n * Create a dependent stream\n * @param {Array<stream>} dependencies - an array of the streams\n * @param {Function} fn - the function used to calculate the new stream value\n * from the dependencies\n * @return {stream} the created stream\n */\nfunction createDependentStream(deps, fn) {\n  var s = createStream();\n  s.fn = fn;\n  s.deps = deps;\n  s.depsMet = false;\n  s.depsChanged = deps.length > 0 ? [] : undefined;\n  s.shouldUpdate = false;\n  addListeners(deps, s);\n  return s;\n}\n\n/**\n * @private\n * Check if all the dependencies have values\n * @param {stream} stream - the stream to check depencencies from\n * @return {Boolean} `true` if all dependencies have vales, `false` otherwise\n */\nfunction initialDependenciesMet(stream) {\n  stream.depsMet = stream.deps.every(function(s) {\n    return s.hasVal;\n  });\n  return stream.depsMet;\n}\n\nfunction dependenciesAreMet(stream) {\n  return stream.depsMet === true || initialDependenciesMet(stream);\n}\n\nfunction isEnded(stream) {\n  return stream.end && stream.end.val === true;\n}\n\nfunction listenersNeedUpdating(s) {\n  return s.listeners.some(function(s) { return s.shouldUpdate; });\n}\n\n/**\n * @private\n * Update a dependent stream using its dependencies in an atomic way\n * @param {stream} stream - the stream to update\n */\nfunction updateStream(s) {\n  if (isEnded(s) || !dependenciesAreMet(s)) return;\n  if (inStream !== undefined) {\n    updateLaterUsing(updateStream, s);\n    return;\n  }\n  inStream = s;\n  if (s.depsChanged) s.fnArgs[s.fnArgs.length - 1] = s.depsChanged;\n  var returnVal = s.fn.apply(s.fn, s.fnArgs);\n  if (returnVal !== undefined) {\n    s(returnVal);\n  }\n  inStream = undefined;\n  if (s.depsChanged !== undefined) s.depsChanged = [];\n  s.shouldUpdate = false;\n  if (flushing() === false) flushUpdate();\n  if (listenersNeedUpdating(s)) {\n    if (!flushingStreamValue) s(s.val)\n    else {\n      s.listeners.forEach(function(listener) {\n        if (listener.shouldUpdate) updateLaterUsing(updateStream, listener);\n      });\n    }\n  }\n}\n\n/**\n * @private\n * Update the dependencies of a stream\n * @param {stream} stream\n */\nfunction updateListeners(s) {\n  var i, o, list\n  var listeners = s.listeners;\n  for (i = 0; i < listeners.length; ++i) {\n    list = listeners[i];\n    if (list.end === s) {\n      endStream(list);\n    } else {\n      if (list.depsChanged !== undefined) list.depsChanged.push(s);\n      list.shouldUpdate = true;\n      findDeps(list);\n    }\n  }\n  for (; orderNextIdx >= 0; --orderNextIdx) {\n    o = order[orderNextIdx];\n    if (o.shouldUpdate === true) updateStream(o);\n    o.queued = false;\n  }\n}\n\n/**\n * @private\n * Add stream dependencies to the global `order` queue.\n * @param {stream} stream\n * @see updateDeps\n */\nfunction findDeps(s) {\n  var i\n  var listeners = s.listeners;\n  if (s.queued === false) {\n    s.queued = true;\n    for (i = 0; i < listeners.length; ++i) {\n      findDeps(listeners[i]);\n    }\n    order[++orderNextIdx] = s;\n  }\n}\n\nfunction updateLaterUsing(updater, stream) {\n  toUpdate.push(stream);\n  stream.updaters.push(updater);\n  stream.shouldUpdate = true;\n}\n\n/**\n * @private\n */\nfunction flushUpdate() {\n  flushingUpdateQueue = true;\n  while (toUpdate.length > 0) {\n    var stream = toUpdate.shift();\n    var nextUpdateFn = stream.updaters.shift();\n    if (nextUpdateFn && stream.shouldUpdate) nextUpdateFn(stream);\n  }\n  flushingUpdateQueue = false;\n}\n\n/**\n * @private\n * Push down a value into a stream\n * @param {stream} stream\n * @param {*} value\n */\nfunction updateStreamValue(n, s) {\n  s.val = n;\n  s.hasVal = true;\n  if (inStream === undefined) {\n    flushingStreamValue = true;\n    updateListeners(s);\n    if (toUpdate.length > 0) flushUpdate();\n    flushingStreamValue = false;\n  } else if (inStream === s) {\n    markListeners(s, s.listeners);\n  } else {\n    updateLaterUsing(function(s) { updateStreamValue(n, s); }, s);\n  }\n}\n\n/**\n * @private\n */\nfunction markListeners(s, lists) {\n  var i, list;\n  for (i = 0; i < lists.length; ++i) {\n    list = lists[i];\n    if (list.end !== s) {\n      if (list.depsChanged !== undefined) {\n        list.depsChanged.push(s);\n      }\n      list.shouldUpdate = true;\n    } else {\n      endStream(list);\n    }\n  }\n}\n\n/**\n * @private\n * Add dependencies to a stream\n * @param {Array<stream>} dependencies\n * @param {stream} stream\n */\nfunction addListeners(deps, s) {\n  for (var i = 0; i < deps.length; ++i) {\n    deps[i].listeners.push(s);\n  }\n}\n\n/**\n * @private\n * Removes an stream from a dependency array\n * @param {stream} stream\n * @param {Array<stream>} dependencies\n */\nfunction removeListener(s, listeners) {\n  var idx = listeners.indexOf(s);\n  listeners[idx] = listeners[listeners.length - 1];\n  listeners.length--;\n}\n\n/**\n * @private\n * Detach a stream from its dependencies\n * @param {stream} stream\n */\nfunction detachDeps(s) {\n  for (var i = 0; i < s.deps.length; ++i) {\n    removeListener(s, s.deps[i].listeners);\n  }\n  s.deps.length = 0;\n}\n\n/**\n * @private\n * Ends a stream\n */\nfunction endStream(s) {\n  if (s.deps !== undefined) detachDeps(s);\n  if (s.end !== undefined) detachDeps(s.end);\n}\n\n/**\n * @private\n */\n/**\n * @private\n * transducer stream transformer\n */\nfunction StreamTransformer() { }\nStreamTransformer.prototype['@@transducer/init'] = function() { };\nStreamTransformer.prototype['@@transducer/result'] = function() { };\nStreamTransformer.prototype['@@transducer/step'] = function(s, v) { return v; };\n\nmodule.exports = flyd;\n","import flyd from 'flyd'\n\n\nexport default function AudioPlayer() {\n  const audioEvts = [\n    'audioprocess',\n    'canplay',\n    'canplaythrough',\n    'complete',\n    'durationchange',\n    'emptied',\n    'ended',\n    'loadeddata',\n    'loadedmetadata',\n    'pause',\n    'play',\n    'playing',\n    'ratechange',\n    'seeked',\n    'seeking',\n    'stalled',\n    'suspend',\n    'timeupdate',\n    'volumechange',\n    'waiting'\n  ]\n\n  const evtStreams = audioEvts.reduce((acc, evtName) => ({ ...acc, [evtName]: flyd.stream() }), {})\n  const streams = {\n    ...evtStreams,\n    currentTime: flyd.map(e => e.target.currentTime, evtStreams.timeupdate)\n  }\n\n  return {\n    streams,\n    connect: (id, deps) => {\n      const audio = document.getElementById(id)\n      audioEvts.forEach((evtName) => {\n        audio.addEventListener(evtName, streams[evtName])\n      })\n\n      flyd.on(e => {\n        audio.src = URL.createObjectURL(e.target.files[0])\n        audio.classList.remove('no-show')\n      }, deps.file.streams.uploaded)\n\n      flyd.on(e => {\n        audio.playbackRate = parseFloat(e.target.value)\n      }, deps.controls.streams.rateChanged)\n\n      flyd.on(e => {\n        audio.currentTime = deps.controls.streams.start()\n      }, streams.play)\n\n      flyd.on(e => {\n        if (audio.currentTime > deps.controls.streams.end) {\n          audio.pause()\n        }\n      }, streams.timeupdate)\n    }\n  }\n}\n","import flyd from 'flyd'\n\n\nconst timeFmt = (n, l) => `${n}`.padStart(l, '0')\n\nconst toTime = (t) => {\n  const mins = Math.floor(t / 60)\n  const secs = Math.floor(t % 60)\n  const ms = Math.round((t * 1000) % 1000)\n\n  return `${timeFmt(mins, 2)}:${timeFmt(secs, 2)}.${timeFmt(ms, 3)}`\n}\n\nconst isset = t => (/^\\d\\d:\\d\\d.\\d\\d\\d$/).test(t)\n\n\nexport default function Controls() {\n  const streams = {\n    endMarked: flyd.stream(),\n    rateChanged: flyd.stream(),\n    startMarked: flyd.stream(),\n    start: flyd.stream(),\n    end: flyd.stream(),\n    state: flyd.stream('controls:state:INIT')\n  }\n\n  return {\n    streams,\n\n    connect: (_id, deps) => {\n      const markStart = document.getElementById('mark-start')\n      markStart.addEventListener('click', streams.startMarked)\n      const markStartView = document.getElementById('mark-start-view')\n\n      const markEnd = document.getElementById('mark-end')\n      markEnd.addEventListener('click', streams.endMarked)\n      const markEndView = document.getElementById('mark-end-view')\n\n      const currentTime = document.getElementById('current-time')\n\n      const playbackRate = document.getElementById('playback-rate')\n      playbackRate.addEventListener('change', streams.rateChanged)\n\n      // file events\n      flyd.on(_e => {\n        currentTime.textContent = toTime(0)\n        markStartView.textContent = toTime(0)\n        streams.start(0)\n      }, deps.file.streams.uploaded)\n\n      // player events\n      flyd.on(e => {\n        currentTime.textContent = toTime(e.target.currentTime)\n      }, deps.player.streams.timeupdate)\n\n      flyd.on(e => {\n        markEndView.textContent = toTime(e.target.duration)\n      }, deps.player.streams.loadedmetadata)\n\n      // internal events\n      flyd.on(_e => {\n        const t = deps.player.streams.currentTime()\n        const tt = toTime(t)\n        const endMark = markEndView.textContent\n        if (!isset(endMark) || tt < endMark) {\n          markStartView.textContent = tt\n          streams.start(t)\n        }\n      }, streams.startMarked)\n\n      flyd.on(e => {\n        const t = deps.player.streams.currentTime()\n        const tt = toTime(t)\n        if (tt > markStartView.textContent) {\n          markEndView.textContent = tt\n          streams.end(t)\n        }\n      }, streams.endMarked)\n    }\n\n  }\n}\n\n","var flyd = require('../../lib');\n\nmodule.exports = flyd.curryN(2, function(fn, s) {\n  return flyd.combine(function(s, self) {\n    if (fn(s())) self(s.val);\n  }, [s]);\n});\n","import flyd from 'flyd'\nimport filter from 'flyd/module/filter'\n\n\nexport default function FileUpload() {\n  const changed = flyd.stream()\n  const uploaded = filter(e => e.target && e.target.files && e.target.files.length === 1, changed)\n\n  return {\n    streams: {\n      changed,\n      uploaded,\n    },\n\n    connect: (id, _deps) => {\n      const overlay = document.getElementById('overlay')\n      const uploadElem = document.getElementById(id)\n\n      uploadElem.addEventListener('change', changed)\n\n      flyd.on(e => {\n        overlay.style.display = 'none'\n      }, uploaded)\n    }\n  }\n}\n","import flyd from 'flyd'\n\n\nconst toLogStr = (type, body) => {\n  const now = new Date().toLocaleString('en-US', { hour: '2-digit', hour12: false, minute: '2-digit', second: '2-digit', fractionalSecondDigits: 3 })\n  return `${now} :: ${type} :: ${body}`\n}\n\nconst errStream = flyd.stream()\nwindow.addEventListener('error', errStream)\n\nconst logElem = (elem, str) => {\n  const li = document.createElement('li')\n  li.textContent = str\n  elem.appendChild(li)\n}\n\nconst logEvent = elem => e => {\n  return typeof e === 'object'\n    ? logElem(elem, toLogStr(e.type, e.target.id))\n    : logElem(elem, toLogStr('_app_', e))\n}\n\nconst excludeEvents = ['currentTime', 'timeupdate']\nconst toStreams = deps => {\n  return Object.entries(deps)\n    .flatMap(([_k, v]) =>\n      Object.entries(v.streams)\n        .filter(([k, _v]) => !excludeEvents.includes(k))\n        .map(([_k, v]) => v)\n    )\n}\n\nexport default function Logger() {\n\n  return {\n    streams: {},\n\n    connect: (id, deps) => {\n      const elem = document.getElementById(id)\n      const observer = new MutationObserver((mutationsList, _obsrvr) => {\n        for (const mutation of mutationsList) {\n          if (mutation.type === 'childList') elem.scrollTop = elem.scrollHeight\n        }\n      })\n      observer.observe(elem, { childList: true })\n\n      const log = logEvent(elem)\n\n      toStreams(deps).forEach(stream => {\n        flyd.on(log, stream)\n      })\n\n      flyd.on(e => {\n        debugger\n        logElem(elem, toLogStr(e.type, e.target.id))\n      }, errStream)\n    }\n  }\n}\n","import Player from './player'\nimport Controls from './controls'\nimport FileUpload from './file'\nimport Logger from './logger'\n\n\nconst onReady = () => {\n  const file = FileUpload()\n  const player = Player()\n  const controls = Controls()\n  const logger = Logger()\n\n  file.connect('tune-file', {})\n  player.connect('audio', { file, controls })\n  controls.connect('controls', { file, player })\n  logger.connect('logger-list', { controls, file, player })\n}\n\ndocument.addEventListener('DOMContentLoaded', onReady);\n"],"names":["_isPlaceholder","_curry1","_arity","_curry2","_curryN","curryN","AudioPlayer","audioEvts","evtStreams","reduce","acc","evtName","flyd","stream","streams","currentTime","map","e","target","timeupdate","connect","id","deps","audio","document","getElementById","forEach","addEventListener","on","src","URL","createObjectURL","files","classList","remove","file","uploaded","playbackRate","parseFloat","value","controls","rateChanged","start","play","end","pause","timeFmt","n","l","padStart","toTime","t","mins","Math","floor","secs","ms","round","isset","test","Controls","endMarked","startMarked","state","_id","markStart","markStartView","markEnd","markEndView","_e","textContent","player","duration","loadedmetadata","tt","endMark","FileUpload","changed","filter","length","_deps","overlay","uploadElem","style","display","toLogStr","type","body","now","Date","toLocaleString","hour","hour12","minute","second","fractionalSecondDigits","errStream","window","logElem","elem","str","li","createElement","appendChild","logEvent","excludeEvents","toStreams","Object","entries","flatMap","_k","v","k","_v","includes","Logger","observer","MutationObserver","mutationsList","_obsrvr","mutation","scrollTop","scrollHeight","observe","childList","log","onReady","Player","logger"],"mappings":"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"}